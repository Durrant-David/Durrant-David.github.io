<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="script/model.js"></script>
    <script src="script/controller.js"></script>
    <script src="script/view.js"></script>
    <script>
        if (localStorage.getItem("selectable") === null) {
            localStorage.setItem("selectable", false);
        }
        var players = 2;
        var event = new Event('build');

        document.addEventListener("DOMContentLoaded", function() {
            
var mutationObserver = new MutationObserver(function(mutations) {
  mutations.forEach(function(mutation) {
    console.log(mutation);
  });
});
//            document.getElementById("drawPile").addEventListener("webkitTransitionEnd", myFunction);
//            document.getElementById("drawPile").addEventListener("transitionend", myFunction);
            console.log("Load content");
            localStorage.setItem("selectable", true);
            for (var i = 0; i < 5; i++) {
                for (var j = 0; j < 5; j++) {
                    const id = "b" + i + j;
                    const element = document.getElementById(id);
                    //skip center
                    if (id != "b22") {
                        element.addEventListener("click", allowDrop, true);
                    }
                }
            }
            loadFiles("https://salty-tundra-18278.herokuapp.com/cityCouncil/api.php", buildDeck);
        });
    </script>
</head>

<body>
    <p id="demo"></p>
    <div id="drawPile">
        <div class="grid-container">
            <div id="draw-pile" class="draw-pile">
<!--                <div class="card">-->
                    <div class="card-inner">
                        <div id="newCard1" class="card-back">
                        </div>
                        <div id="newCard2" class="card-front">
                        </div>
                    </div>
<!--                </div>-->
            </div>
            <div id="draw0" class="empty"></div>
            <div id="draw1" class="empty"></div>
            <div id="draw2" class="empty"></div>
            <div id="draw3" class="empty"></div>

            <div id="playerTurn" class="blank"></div>
            <div class="blank">6</div>
            <div class="blank">4</div>
            <div class="blank">2</div>
            <div class="blank">1</div>
        </div>
    </div>
    <div id="board">
        <div class="grid-container">
            <div id="b00" class="empty"></div>
            <div id="b01" class="empty"></div>
            <div id="b02" class="empty"></div>
            <div id="b03" class="empty"></div>
            <div id="b04" class="empty"></div>
            <div id="b10" class="empty"></div>
            <div id="b11" class="empty"></div>
            <div id="b12" class="empty"></div>
            <div id="b13" class="empty"></div>
            <div id="b14" class="empty"></div>
            <div id="b20" class="empty"></div>
            <div id="b21" class="empty"></div>
            <div id="b22" class="center">City Square<br>
                <font size="10">1</font>
            </div>
            <div id="b23" class="empty"></div>
            <div id="b24" class="empty"></div>
            <div id="b30" class="empty"></div>
            <div id="b31" class="empty"></div>
            <div id="b32" class="empty"></div>
            <div id="b33" class="empty"></div>
            <div id="b34" class="empty"></div>
            <div id="b40" class="empty"></div>
            <div id="b41" class="empty"></div>
            <div id="b42" class="empty"></div>
            <div id="b43" class="empty"></div>
            <div id="b44" class="empty"></div>
        </div>
    </div>
    <div class="grid-container">
        <div id="player1"></div>
        <div id="player2"></div>
        <div id="player3"></div>
        <div id="player4"></div>
    </div>
    <button onclick="resetGame()">Reset</button>
</body></html>
